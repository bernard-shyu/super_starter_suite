<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Starter Suite</title>
    <link rel="stylesheet" href="/static/main_style.classic.css">
    <link rel="stylesheet" href="/static/config_ui.classic.css">
</head>
<body>
    <div class="container">
        <!-- Left Panel (Collapsible Menu) -->
        <div class="left-panel" id="left-panel">
            <div class="menu-toggle" id="menu-toggle">
                <span class="icon">&#9776;</span> <!-- Hamburger icon -->
            </div>
            <ul class="menu-list">
                <li><button id="login-btn" class="menu-button"><img src="/static/icons/login.png" alt="Login" width="20" height="20" class="icon-img"><span> Login / Associate User</span></button></li>
                <li><button id="settings-btn" class="menu-button"><img src="/static/icons/settings.png" alt="Settings" width="20" height="20" class="icon-img"><span> Settings</span></button></li>
                <li><button id="config-btn" class="menu-button"><img src="/static/icons/config.png" alt="Configuration" width="20" height="20" class="icon-img"><span> Configuration</span></button></li>
                <li><button id="generate-btn" class="menu-button"><img src="/static/icons/generate.png" alt="Generate" width="20" height="20" class="icon-img"><span> Generate</span></button></li>
                <li><button id="chat-history-btn" class="menu-button"><img src="/static/icons/chat_history.png" alt="Chat History" width="20" height="20" class="icon-img" onerror="this.src='/static/icons/settings.png'"><span> Chat History</span></button></li>
                <li class="menu-group-title" data-group="dynamic-workflows">
                    <div class="group-header">
                        <button id="dynamic-workflows-group-btn" class="menu-button group-workflow" data-group="dynamic-workflows"><img src="/static/icons/dynamic_group.png" class="icon-img"><span> Dynamic Workflows</span></button>
                        <button class="menu-button group-toggle" data-group="dynamic-workflows"><span class="icon">&#9776;</span></button>
                    </div>
                    <div class="group-content" id="dynamic-workflows-content">
                        <ul class="workflows-list">
                            <!-- Workflows will be dynamically populated here by script.js -->
                        </ul>
                    </div>
                </li>
            </ul>
        </div>

        <div class="resizer" id="resizer"></div>

        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Top Panel (Status Bar) -->
            <div class="top-panel" id="status-bar">
                <div id="status-static-info">Loading...</div>
                <div id="status-dynamic-message">Ready</div>
            </div>

            <!-- Content Panel (Main Content Area) -->
            <div class="content-panel" id="chat-area">
                <!-- Welcome Page -->
                <div id="welcome-page" class="welcome-page">
                    <h1>Super Starter Suite</h1>
                    <p class="subtitle">AI-Powered Workflow System for Llama-Index RAG</p>

                    <div class="current-user-info">
                        <h3>Welcome!</h3>
                        <p>Please select a workflow to get started:</p>
                    </div>

                    <div class="workflow-selection">
                        <h3>Available Workflows</h3>
                        <div class="workflow-grid" id="dynamic-workflow-grid">
                            <!-- Workflows will be dynamically populated here from /api/workflows endpoint -->
                            <div class="loading-workflows">
                                <div class="loading-spinner"></div>
                                Loading available workflows...
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Loading/Transition Page -->
                <div id="loading-page" class="loading-page" style="display: none;">
                    <div class="loading-container">
                        <div class="loading-spinner"></div>
                        <h2 id="loading-title">Loading Workflow...</h2>
                        <p id="loading-message">Please wait while we prepare your workflow</p>

                        <div id="loading-info" class="loading-info">
                            <div class="info-item">
                                <span class="info-label">Workflow:</span>
                                <span id="loading-workflow">Initializing</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Status:</span>
                                <span id="loading-status">Loading RAG indexes...</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Interface -->
                <div id="chat-interface" class="chat-interface" style="display: none;">
                    <div id="message-container" class="message-container"></div>
                    <div class="input-area">
                        <div class="input-controls">
                            <button id="new-session-btn" class="new-session-btn" title="Start New Session">
                                ðŸ†• New Session
                            </button>
                            <input type="text" id="user-input" class="user-input" placeholder="Type your message...">
                            <button id="send-button" class="send-button">Send</button>
                        </div>
                    </div>
                </div>

                <!-- Settings UI Container -->
                <div id="settings-ui-container" class="config-ui-container" style="display: none;">
                    <!-- Settings UI will be loaded here by config_ui.js -->
                </div>

                <!-- Configuration UI Container -->
                <div id="config-ui-container" class="config-ui-container" style="display: none;">
                    <!-- Configuration UI will be loaded here by config_ui.js -->
                </div>

                <!-- Chat History UI Container -->
                <div id="chat-history-ui-container" class="config-ui-container" style="display: none;">
                    <!-- Chat History UI will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Phase 5.6D Frontend Modularization - Load modularized scripts -->
    <!-- Core modules moved to static root for better organization -->
    <script src="/static/global-state.js"></script>
    <script src="/static/main-ui-manager.js"></script>
    <script src="/static/workflow-manager.js"></script>
    <script src="/static/modules/chat-ui-manager.js"></script>
    <script src="/static/modules/artifact-display-manager.js"></script>

    <!-- Legacy UI components still needed -->
    <script src="/static/config_ui.js"></script>

    <!-- Chat-related frontend modules (moved to modules/chat/ for better organization) -->
    <script src="/static/modules/chat/chat_history_manager.js"></script>
    <script src="/static/modules/chat/chat_ui_enhancements.js"></script>
    <script src="/static/modules/chat/session-manager.js"></script>
    <script src="/static/modules/chat/session-recovery.js"></script>
    <script src="/static/modules/chat/chat-ui-manager.js"></script>
    <script src="/static/modules/chat/session-visualizer.js"></script>

    <!-- Human-in-the-loop workflow interaction handling -->
    <script src="/static/modules/human-in-the-loop-manager.js"></script>

    <!-- Main application logic (button event handlers, workflow management, etc.) -->
    <script src="/static/script.js"></script>
</body>
</html>
